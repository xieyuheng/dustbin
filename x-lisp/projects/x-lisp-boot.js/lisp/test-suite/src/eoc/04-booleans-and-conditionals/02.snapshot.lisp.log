;;; Input

(define (_main)
  (println-non-void
   (begin
     (= x (random-dice))
     (= y (random-dice))
     (iadd
      (if (if (int-less? x 1) (equal? x 0) (equal? x 2))
        (iadd y 2)
        (iadd y 10))
      (if (if (int-less? x 1) (equal? x 0) (equal? x 2))
        (iadd y 2)
        (iadd y 10))))))

;;; ShrinkPass

(define (_main)
  (println-non-void
   (@let1 x (random-dice)
     (@let1 y (random-dice)
       ((iadd
         (if
             (if ((int-less? x) 1)
               ((equal? x) 0)
               ((equal? x) 2))
           ((iadd y) 2)
           ((iadd y) 10)))
        (if
            (if ((int-less? x) 1)
              ((equal? x) 0)
              ((equal? x) 2))
          ((iadd y) 2)
          ((iadd y) 10)))))))

;;; UniquifyPass

(define (_main)
  (println-non-void
   (@let1 x₁ (random-dice)
     (@let1 y₁ (random-dice)
       ((iadd
         (if
             (if ((int-less? x₁) 1)
               ((equal? x₁) 0)
               ((equal? x₁) 2))
           ((iadd y₁) 2)
           ((iadd y₁) 10)))
        (if
            (if ((int-less? x₁) 1)
              ((equal? x₁) 0)
              ((equal? x₁) 2))
          ((iadd y₁) 2)
          ((iadd y₁) 10)))))))

;;; RevealGlobalPass

(define (_main)
  ((@primitive-function println-non-void 1)
   (@let1 x₁ ((@primitive-function random-dice 0))
     (@let1 y₁ ((@primitive-function random-dice 0))
       (((@primitive-function iadd 2)
         (if
             (if (((@primitive-function int-less? 2) x₁) 1)
               (((@primitive-function equal? 2) x₁) 0)
               (((@primitive-function equal? 2) x₁) 2))
           (((@primitive-function iadd 2) y₁) 2)
           (((@primitive-function iadd 2) y₁) 10)))
        (if
            (if (((@primitive-function int-less? 2) x₁) 1)
              (((@primitive-function equal? 2) x₁) 0)
              (((@primitive-function equal? 2) x₁) 2))
          (((@primitive-function iadd 2) y₁) 2)
          (((@primitive-function iadd 2) y₁) 10)))))))

;;; LiftLambdaPass

(define (_main)
  ((@primitive-function println-non-void 1)
   (@let1 x₁ ((@primitive-function random-dice 0))
     (@let1 y₁ ((@primitive-function random-dice 0))
       (((@primitive-function iadd 2)
         (if
             (if (((@primitive-function int-less? 2) x₁) 1)
               (((@primitive-function equal? 2) x₁) 0)
               (((@primitive-function equal? 2) x₁) 2))
           (((@primitive-function iadd 2) y₁) 2)
           (((@primitive-function iadd 2) y₁) 10)))
        (if
            (if (((@primitive-function int-less? 2) x₁) 1)
              (((@primitive-function equal? 2) x₁) 0)
              (((@primitive-function equal? 2) x₁) 2))
          (((@primitive-function iadd 2) y₁) 2)
          (((@primitive-function iadd 2) y₁) 10)))))))

;;; UnnestOperandPass

(define (_main)
  (@let1 _₁ (@primitive-function println-non-void 1)
    (@let1 x₁
        (@let1 _₂ (@primitive-function random-dice 0) (_₂))
      (@let1 y₁
          (@let1 _₃ (@primitive-function random-dice 0)
            (_₃))
        (@let1 _₄ (@primitive-function iadd 2)
          (@let1 _₅
              (@let1 _₆
                  (@let1 _₇
                      (@primitive-function int-less? 2)
                    (@let1 _₈ (_₇ x₁)
                      (@let1 _₉ 1
                        (@let1 _₁₀ (_₈ _₉)
                          (if _₁₀
                            (@let1 _₁₁
                                (@primitive-function
                                 equal?
                                 2)
                              (@let1 _₁₂ (_₁₁ x₁)
                                (@let1 _₁₃ 0 (_₁₂ _₁₃))))
                            (@let1 _₁₄
                                (@primitive-function
                                 equal?
                                 2)
                              (@let1 _₁₅ (_₁₄ x₁)
                                (@let1 _₁₆ 2 (_₁₅ _₁₆)))))))))
                (if _₆
                  (@let1 _₁₇ (@primitive-function iadd 2)
                    (@let1 _₁₈ (_₁₇ y₁)
                      (@let1 _₁₉ 2 (_₁₈ _₁₉))))
                  (@let1 _₂₀ (@primitive-function iadd 2)
                    (@let1 _₂₁ (_₂₀ y₁)
                      (@let1 _₂₂ 10 (_₂₁ _₂₂))))))
            (@let1 _₂₃ (_₄ _₅)
              (@let1 _₂₄
                  (@let1 _₂₅
                      (@let1 _₂₆
                          (@primitive-function int-less? 2)
                        (@let1 _₂₇ (_₂₆ x₁)
                          (@let1 _₂₈ 1
                            (@let1 _₂₉ (_₂₇ _₂₈)
                              (if _₂₉
                                (@let1 _₃₀
                                    (@primitive-function
                                     equal?
                                     2)
                                  (@let1 _₃₁ (_₃₀ x₁)
                                    (@let1 _₃₂ 0 (_₃₁ _₃₂))))
                                (@let1 _₃₃
                                    (@primitive-function
                                     equal?
                                     2)
                                  (@let1 _₃₄ (_₃₃ x₁)
                                    (@let1 _₃₅ 2 (_₃₄ _₃₅)))))))))
                    (if _₂₅
                      (@let1 _₃₆
                          (@primitive-function iadd 2)
                        (@let1 _₃₇ (_₃₆ y₁)
                          (@let1 _₃₈ 2 (_₃₇ _₃₈))))
                      (@let1 _₃₉
                          (@primitive-function iadd 2)
                        (@let1 _₄₀ (_₃₉ y₁)
                          (@let1 _₄₁ 10 (_₄₀ _₄₁))))))
                (@let1 _₄₂ (_₂₃ _₂₄) (_₁ _₄₂))))))))))

