;;; Input

(define (_main)
  (println-non-void
   (if
       (and (equal? (random-dice) 1)
            (equal? (random-dice) 2))
     0
     42)))

;;; ShrinkPass

(define (_main)
  (println-non-void
   (if
       (if ((equal? (random-dice)) 1)
         ((equal? (random-dice)) 2)
         #f)
     0
     42)))

;;; UniquifyPass

(define (_main)
  (println-non-void
   (if
       (if ((equal? (random-dice)) 1)
         ((equal? (random-dice)) 2)
         #f)
     0
     42)))

;;; RevealGlobalPass

(define (_main)
  ((@primitive-function println-non-void 1)
   (if
       (if
           (((@primitive-function equal? 2)
             ((@primitive-function random-dice 0)))
            1)
         (((@primitive-function equal? 2)
           ((@primitive-function random-dice 0)))
          2)
         #f)
     0
     42)))

;;; LiftLambdaPass

(define (_main)
  ((@primitive-function println-non-void 1)
   (if
       (if
           (((@primitive-function equal? 2)
             ((@primitive-function random-dice 0)))
            1)
         (((@primitive-function equal? 2)
           ((@primitive-function random-dice 0)))
          2)
         #f)
     0
     42)))

;;; UnnestOperandPass

(define (_main)
  (@let1 _₁ (@primitive-function println-non-void 1)
    (@let1 _₂
        (@let1 _₃
            (@let1 _₄ (@primitive-function equal? 2)
              (@let1 _₅ (@primitive-function random-dice 0)
                (@let1 _₆ (_₅)
                  (@let1 _₇ (_₄ _₆)
                    (@let1 _₈ 1
                      (@let1 _₉ (_₇ _₈)
                        (if _₉
                          (@let1 _₁₀
                              (@primitive-function equal? 2)
                            (@let1 _₁₁
                                (@primitive-function
                                 random-dice
                                 0)
                              (@let1 _₁₂ (_₁₁)
                                (@let1 _₁₃ (_₁₀ _₁₂)
                                  (@let1 _₁₄ 2 (_₁₃ _₁₄))))))
                          #f)))))))
          (if _₃ 0 42))
      (_₁ _₂))))

